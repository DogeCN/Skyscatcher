<!DOCTYPE html>
<html>

<head>
    <title>图片交互效果预览</title>
    <style>
        body {
            background: #1e1e1e;
            color: #c0c0c0;
            font-family: Arial, sans-serif;
            font-size: 1.6em;
            padding: 60px 10%
        }


        p {
            margin: 1.2em 0
        }

        .q {
            width: 30px;
            height: 30px
        }

        .lz {
            width: 50%;
            height: auto;
            border-radius: 6px;
            transition: transform 200ms ease;
            transform-origin: center center;
            cursor: pointer
        }

        .lz.large {
            width: 100%;
        }

        .lz:hover {
            opacity: 0.9
        }

        .img-container {
            text-align: center;
            margin: 12px auto;
            transition: margin 200ms ease
        }
    </style>
    <script>
        let clickTimeout = null;

        function enlarge(img) {
            img.classList.toggle('large');
            adjustLayout();
        }

        function rotate(img, event) {
            event.preventDefault();
            const rotation = parseInt(img.dataset.rotation || '0') + 90;
            img.dataset.rotation = rotation;
            img.style.transform = `rotate(${rotation}deg)`;
            adjustLayout();
        }

        function adjustLayout() {
            const containers = document.querySelectorAll('.img-container');
            containers.forEach(container => {
                const img = container.querySelector('.lz');
                const rotation = parseInt(img.dataset.rotation || '0') % 180;
                if (rotation !== 0) {
                    container.style.margin = `${(img.offsetWidth - img.offsetHeight) * 0.5 + 12}px auto`;
                } else {
                    container.style.margin = '12px auto';
                }
            });
        }
    </script>
</head>

<body>
    <h1>图片交互效果测试</h1>
    <h2>操作说明</h2>
    <p>单击：放大/缩小图片（延迟200ms触发）</p>
    <p>双击：顺时针旋转90度</p>

    <p>这是一些测试文本，用来展示图片在文档流中的表现。</p>

    <div class="img-container">
        <img class="lz" src="img/1.png" onclick="enlarge(this)" oncontextmenu="rotate(this, event)">
    </div>

    <p>图片之间的文本内容，用来测试排版效果。</p>

    <div class="img-container">
        <img class="lz" src="img/2.png" onclick="enlarge(this)" oncontextmenu="rotate(this, event)">
    </div>

    <p>更多文本内容，观察图片旋转和缩放对排版的影响。</p>
</body>

</html>